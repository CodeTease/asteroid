<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asteroid Destroyer</title>
    <link rel="icon" type="image/png" href="https://ik.imagekit.io/irammini/Teaserverse_icon?updatedAt=1756019938040">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="src/index.css">
</head>
<body>
    <div class="stars"></div>
    <div class="scanlines"></div>

    <div class="container" id="main-container">
        <h1>Asteroid Destroyer</h1>
        <p>Destroy all asteroids and survive as long as possible!</p>
        <div class="menu-buttons">
            <button id="play-button">Play Now!</button>
            <button id="how-to-play-button">How to Play</button>
        </div>
        <div class="credits">
            <p>Powered by <a href="https://teaserverse.online/" target="_blank" rel="noopener noreferrer">Teaserverse</a></p>
            <p>Sound effects from <a href="https://freesound.org/" target="_blank" rel="noopener noreferrer">Freesound.org</a></p>
        </div>
        <p id="development-disclaimer">Note: Game is in development. Sounds and features may be incomplete.</p>
    </div>
    
    <div id="loading-container" class="loading-container">
        <div class="loader"></div>
        <p>Loading resources...</p>
    </div>

    <div class="game-area" id="game-area">
        <button id="hud-skill-button" style="display: none;">SKILL</button>
        <div id="debug-panel" class="hidden">
            <h3>Debug Panel</h3>
            <button id="debug-time-plus">+60s Time</button>
            <button id="debug-summon-boss">Summon Boss</button>
            <div class="debug-row">
                <select id="debug-enemy-select">
                    <option value="standard">Standard</option>
                    <option value="scout">Scout</option>
                    <option value="brute">Brute</option>
                    <option value="shard">Shard</option>
                    <option value="shooter">Shooter</option>
                    <option value="splitter">Splitter</option>
                    <option value="seeker">Seeker</option>
                    <option value="teleporter">Teleporter</option>
                    <option value="orbiter">Orbiter</option>
                    <option value="weaver">Weaver</option>
                    <option value="bulwark">Bulwark</option>
                    <option value="juggler">Juggler</option>
                    <option value="sizzler">Sizzler</option>
                    <option value="anchor">Anchor</option>
                </select>
                <button id="debug-spawn-enemy">Spawn</button>
            </div>
            <button id="debug-add-score">+1000 Pts</button>
            <button id="debug-kill-all">Kill All</button>
            <label><input type="checkbox" id="debug-god-mode"> God Mode</label>
            <button id="debug-close">Close</button>
        </div>
        <button id="debug-toggle">üêõ</button>

        <div id="final-boss-health-container">
            <div id="final-boss-health-bar"></div>
        </div>
        <canvas id="gameCanvas" width="600" height="400"></canvas>
        <div class="divider-line"></div>
        <div class="hud-panel unselectable">
            <div class="hud-group">
                <span class="hud-item">üåü <span id="score">0</span></span>
                <span class="hud-item">üõ°Ô∏è <span id="shields">0</span></span>
                <span class="hud-item">üí† <span id="upgrade-points">0</span></span>
            </div>
            
            <!-- HEAT BAR -->
            <div class="hud-group" id="heat-group" style="display: none; flex-direction: column; gap: 2px;">
                <span style="font-size: 0.7rem; color: #ff4500;">HEAT</span>
                <div id="heat-bar-container">
                    <div id="heat-bar"></div>
                </div>
                <span id="overheat-text">OVERHEATED!</span>
            </div>

            <div class="hud-group">
                <span class="hud-item" id="game-status">Ready</span>
            </div>
            <div class="hud-group">
                <span class="hud-item"><span id="timer-label">‚è±Ô∏è</span> <span id="timer">0s</span></span>
            </div>
        </div>
    </div>
    
    <div id="message-box" class="message-box unselectable">
        <h2 id="message-title"></h2>
        <p id="message-text"></p>
        <div class="button-group">
            <button id="message-button">Play Again</button>
            <button id="back-to-menu-button">Main Menu</button>
        </div>
    </div>

    <div id="upgrade-modal" class="message-box unselectable">
        <h2 id="upgrade-title">Upgrades!</h2>
        <p>You have <span id="upgrade-points-count">0</span> upgrade points. üí†</p>
        <div class="upgrade-options">
             <div class="upgrade-category">
                <h3>Standard Allies</h3>
                <button id="upgrade-firerate" data-cost="1">Faster Fire Rate (<span id="firerate-level">0/5</span>)</button>
                <button id="upgrade-doubleshot" data-cost="1">Double Shot</button>
                <button id="upgrade-projectilespeed" data-cost="1">Faster Projectiles</button>
            </div>
            <div class="upgrade-category" id="laser-ally-upgrades" style="display: none;">
                <h3>Laser Ally</h3>
                <button id="upgrade-laser-damage" data-cost="3">Increase Laser Damage (<span id="laser-damage-level">0/5</span>)</button>
                <button id="upgrade-laser-cooldown" data-cost="4">Reduce Laser Cooldown (<span id="laser-cooldown-level">0/5</span>)</button>
            </div>
        </div>
        <div class="auto-upgrade-container">
            <input type="checkbox" id="auto-upgrade-checkbox">
            <label for="auto-upgrade-checkbox">Auto Upgrade</label>
        </div>
        <button id="continue-button">Continue</button>
    </div>

    <div id="void-skill-modal" class="message-box unselectable">
        <h2 style="color: #a020f0; text-shadow: 0 0 10px #a020f0;">VOID MODE REACHED</h2>
        <p>Choose a Special Skill to survive the Void.</p>
        <div class="upgrade-options">
             <div class="upgrade-category">
                <button id="skill-no-heat" class="void-skill-btn">
                    <strong>No Heat Mode</strong><br>
                    <span style="font-size: 0.8em;">Disable Heat for 60s. (2m Cooldown)</span>
                </button>
                <button id="skill-permanent-echo" class="void-skill-btn">
                    <strong>Permanent Echo</strong><br>
                    <span style="font-size: 0.8em;">Spawn a second Echo Ally permanently.</span>
                </button>
                <button id="skill-ultimate-barrage" class="void-skill-btn">
                    <strong>Ultimate Barrage</strong><br>
                    <span style="font-size: 0.8em;">Clear the screen with massive fire. (2m Cooldown)</span>
                </button>
            </div>
        </div>
    </div>

    <div id="how-to-play-modal" class="message-box unselectable">
        <h2>How to Play</h2>
        <div class="how-to-play-content">
            <div class="how-to-play-item">
                <div class="how-to-play-icon icon-player"></div>
                <p><strong>You:</strong> Move with arrow keys or drag. Auto-fire when holding click/touch.</p>
            </div>
            <div class="how-to-play-item">
                <div class="how-to-play-icon icon-enemy"></div>
                <p><strong>Enemies:</strong> Destroy asteroids to score points. Watch out for special types!</p>
            </div>
            <div class="how-to-play-item">
                <div class="how-to-play-icon icon-ally"></div>
                <p><strong>Allies:</strong> Reach high scores to summon AI allies to assist you.</p>
            </div>
        </div>
        <button id="close-how-to-play-button">Got it</button>
    </div>

    <script type="module" src="./index.js"></script>
</body>
</html>